<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réponses du Google Form sur l'IoT</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 10px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>

<h1>Réponses du Google Form sur l'IoT</h1>
<table id="responsesTable">
    <thead>
        <tr>
            <th>Rôle dans l'organisation</th>
            <th>Utilisation de dispositifs IoT</th>
            <th>Types de dispositifs IoT utilisés</th>
            <th>Problèmes de sécurité rencontrés</th>
            <th>Fréquence de surveillance des dispositifs IoT</th>
            <th>Fonctionnalités souhaitées</th>
            <th>Méthode d'alerte préférée</th>
            <th>Suggestions et préoccupations</th>
            <th>Souhait d'information sur le projet</th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script>
    const url = 'https://spreadsheets.google.com/feeds/list/1jHQSpy5Vle6Jdu-X2JwLfxH8AuhCfif1lK3v6OzD3FU/od6/public/values?alt=json';

    fetch(url)
        .then(response => response.json())
        .then(data => {
            const tableBody = document.querySelector("#responsesTable tbody");
            data.feed.entry.forEach(entry => {
                const row = document.createElement("tr");

                const role = document.createElement("td");
                role.textContent = entry.gsx$quelestvotreroledansvotreorganisation.$t;
                row.appendChild(role);

                const utilisationIoT = document.createElement("td");
                utilisationIoT.textContent = entry.gsx$utilisezvousactuellementdesdispositifsiotdansvotreenvironnement.$t;
                row.appendChild(utilisationIoT);

                const typesIoT = document.createElement("td");
                typesIoT.textContent = entry.gsx$sivousquelstypesdedispositifsiotutilisezvouscocheztouteslesréponsesapplicables.$t;
                row.appendChild(typesIoT);

                const problemesSecurite = document.createElement("td");
                problemesSecurite.textContent = entry.gsx$avezvousdéjàrencontrédesproblèmesdesécuritéavecvosdispositifsiot.$t;
                row.appendChild(problemesSecurite);

                const frequenceSurveillance = document.createElement("td");
                frequenceSurveillance.textContent = entry.gsx$àquellefréquencesurveillezvouslétatdevosdispositifsiot.$t;
                row.appendChild(frequenceSurveillance);

                const fonctionnalitesSouhaitees = document.createElement("td");
                fonctionnalitesSouhaitees.textContent = entry.gsx$quellesfonctionnalitéesseriezvousleplusintéresséàavoirdansunsystèmedesurveillanceiotcocheztouteslesréponsesapplicables.$t;
                row.appendChild(fonctionnalitesSouhaitees);

                const methodeAlerte = document.createElement("td");
                methodeAlerte.textContent = entry.gsx$commentpréférezvousêtreavertiencasdanomaliedétectée.$t;
                row.appendChild(methodeAlerte);

                const suggestionsPreoccupations = document.createElement("td");
                suggestionsPreoccupations.textContent = entry.gsx$avezvousdessuggestionsoudespréoccupationsconcernantlasécuritédesdispositifsiot.$t;
                row.appendChild(suggestionsPreoccupations);

                const souhaitInformation = document.createElement("td");
                souhaitInformation.textContent = entry.gsx$souhaitezvousêtreinformédesdéveloppementsconcernantceprojet.$t;
                row.appendChild(souhaitInformation);

                tableBody.appendChild(row);
            });
        })
        .catch(error => console.error('Erreur lors de la récupération des données:', error));
</script>

</body>
</html>
